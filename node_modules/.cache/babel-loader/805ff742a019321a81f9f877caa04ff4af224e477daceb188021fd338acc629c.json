{"ast":null,"code":"import _slicedToArray from\"C:/Users/Johvo/OneDrive/Desktop/Coding/portfolio-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from\"react\";import{useState,useRef,useLayoutEffect,useEffect}from\"react\";import Next from\"./carouselNext\";import Prev from\"./carouselPrev\";import\"./carousel.scss\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Carousel=function Carousel(props){var _useState=useState(0),_useState2=_slicedToArray(_useState,2),slidePos=_useState2[0],setSlidePos=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),slideWidth=_useState4[0],setSlideWidth=_useState4[1];var _useState5=useState({height:window.innerHeight,width:window.innerWidth}),_useState6=_slicedToArray(_useState5,2),dimensions=_useState6[0],setDimensions=_useState6[1];var maxSlidePos=props.slideNum-1;var slides=document.getElementsByClassName(\"carousel-card\");var carouselContent=[];var ref=useRef(null);useLayoutEffect(function(){setSlideWidth(ref.current.offsetWidth);},[]);useEffect(function(){function slideTrackResize(){setDimensions({height:window.height,width:window.width});}setSlideWidth(ref.current.offsetWidth);Array.from(slides).forEach(setSlideTrack);window.addEventListener(\"resize\",slideTrackResize);setTimeout(updateSlidePos,100);return function(){window.removeEventListener(\"resize\",slideTrackResize);};});function setSlideTrack(slide,index){slide.style.left=slideWidth*index*1.1+\"px\";}Array.from(slides).forEach(setSlideTrack);function updateSlidePos(e){var nextSlidePos=arguments.length>1&&arguments[1]!==undefined?arguments[1]:slidePos;try{if(e.target.classList.contains(\"carousel-next\")){nextSlidePos=getNextSlide();}else if(e.target.classList.contains(\"carousel-prev\")){nextSlidePos=getPrevSlide();}}catch(error){}var displaceBy=slides[nextSlidePos].style.left;for(var i=0;i<slides.length;i++){slides[i].style.transform=\"translateX(-\"+displaceBy+\")\";}slides[slidePos].classList.toggle(\"carousel-active\");slides[nextSlidePos].classList.toggle(\"carousel-active\");setSlidePos(nextSlidePos);}function getNextSlide(){var newSlidePos;if(slidePos===maxSlidePos){newSlidePos=slidePos-maxSlidePos;}else{newSlidePos=slidePos+1;}return newSlidePos;}function getPrevSlide(){var newSlidePos;if(slidePos===0){newSlidePos=slidePos+maxSlidePos;}else{newSlidePos=slidePos-1;}return newSlidePos;}carouselContent.push(/*#__PURE__*/_jsxs(\"div\",{ref:ref,className:\"carousel-card carousel-active\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"carousel-img\",src:\"/portfolio-app/Images/projects/\"+props.carouselInfo[0].src,alt:\"\"}),props.carouselInfo[0].itemDesc]}));for(var i=1;i<props.slideNum;i++){carouselContent.push(/*#__PURE__*/_jsxs(\"div\",{ref:ref,className:\"carousel-card\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"carousel-img\",src:\"/portfolio-app/Images/projects/\"+props.carouselInfo[i].src,alt:\"\"}),props.carouselInfo[i].itemDesc]}));}return/*#__PURE__*/_jsxs(\"div\",{className:\"carousel\",children:[/*#__PURE__*/_jsx(Prev,{updateSlidePos:updateSlidePos}),/*#__PURE__*/_jsx(\"div\",{className:\"carousel-content\",children:carouselContent}),/*#__PURE__*/_jsx(Next,{updateSlidePos:updateSlidePos})]});};export default Carousel;","map":{"version":3,"names":["React","useState","useRef","useLayoutEffect","useEffect","Next","Prev","Carousel","props","slidePos","setSlidePos","slideWidth","setSlideWidth","height","window","innerHeight","width","innerWidth","dimensions","setDimensions","maxSlidePos","slideNum","slides","document","getElementsByClassName","carouselContent","ref","current","offsetWidth","slideTrackResize","Array","from","forEach","setSlideTrack","addEventListener","setTimeout","updateSlidePos","removeEventListener","slide","index","style","left","e","nextSlidePos","target","classList","contains","getNextSlide","getPrevSlide","error","displaceBy","i","length","transform","toggle","newSlidePos","push","carouselInfo","src","itemDesc"],"sources":["C:/Users/Johvo/OneDrive/Desktop/Coding/portfolio-app/src/components/carousel/carousel.js"],"sourcesContent":["import React from \"react\";\nimport { useState, useRef, useLayoutEffect, useEffect } from \"react\";\nimport Next from \"./carouselNext\";\nimport Prev from \"./carouselPrev\";\nimport \"./carousel.scss\";\nconst Carousel = (props) => {\n  const [slidePos, setSlidePos] = useState(0);\n  const [slideWidth, setSlideWidth] = useState(0);\n  const [dimensions, setDimensions] = useState({\n    height: window.innerHeight,\n    width: window.innerWidth,\n  });\n  const maxSlidePos = props.slideNum - 1;\n  const slides = document.getElementsByClassName(\"carousel-card\");\n  const carouselContent = [];\n  const ref = useRef(null);\n\n  useLayoutEffect(() => {\n    setSlideWidth(ref.current.offsetWidth);\n  }, []);\n\n  useEffect(() => {\n    function slideTrackResize() {\n      setDimensions({\n        height: window.height,\n        width: window.width,\n      });\n    }\n    setSlideWidth(ref.current.offsetWidth);\n    Array.from(slides).forEach(setSlideTrack);\n    window.addEventListener(\"resize\", slideTrackResize);\n    setTimeout(updateSlidePos, 100);\n    return () => {\n      window.removeEventListener(\"resize\", slideTrackResize);\n    };\n  });\n\n  function setSlideTrack(slide, index) {\n    slide.style.left = slideWidth * index * 1.1 + \"px\";\n  }\n  Array.from(slides).forEach(setSlideTrack);\n  function updateSlidePos(e, nextSlidePos = slidePos) {\n    try {\n      if (e.target.classList.contains(\"carousel-next\")) {\n        nextSlidePos = getNextSlide();\n      } else if (e.target.classList.contains(\"carousel-prev\")) {\n        nextSlidePos = getPrevSlide();\n      }\n    } catch (error) {}\n    const displaceBy = slides[nextSlidePos].style.left;\n    for (var i = 0; i < slides.length; i++) {\n      slides[i].style.transform = \"translateX(-\" + displaceBy + \")\";\n    }\n\n    slides[slidePos].classList.toggle(\"carousel-active\");\n    slides[nextSlidePos].classList.toggle(\"carousel-active\");\n    setSlidePos(nextSlidePos);\n  }\n\n  function getNextSlide() {\n    var newSlidePos;\n\n    if (slidePos === maxSlidePos) {\n      newSlidePos = slidePos - maxSlidePos;\n    } else {\n      newSlidePos = slidePos + 1;\n    }\n    return newSlidePos;\n  }\n  function getPrevSlide() {\n    var newSlidePos;\n    if (slidePos === 0) {\n      newSlidePos = slidePos + maxSlidePos;\n    } else {\n      newSlidePos = slidePos - 1;\n    }\n    return newSlidePos;\n  }\n\n  carouselContent.push(\n    <div ref={ref} className=\"carousel-card carousel-active\">\n      <img\n        className=\"carousel-img\"\n        src={\"/portfolio-app/Images/projects/\" + props.carouselInfo[0].src}\n        alt=\"\"\n      />\n      {props.carouselInfo[0].itemDesc}\n    </div>\n  );\n  for (var i = 1; i < props.slideNum; i++) {\n    carouselContent.push(\n      <div ref={ref} className=\"carousel-card\">\n        <img\n          className=\"carousel-img\"\n          src={\"/portfolio-app/Images/projects/\" + props.carouselInfo[i].src}\n          alt=\"\"\n        />\n        {props.carouselInfo[i].itemDesc}\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"carousel\">\n      <Prev updateSlidePos={updateSlidePos} />\n      <div className=\"carousel-content\">{carouselContent}</div>\n      <Next updateSlidePos={updateSlidePos} />\n    </div>\n  );\n};\n\nexport default Carousel;\n"],"mappings":"0IAAA,MAAOA,MAAK,KAAM,OAAO,CACzB,OAASC,QAAQ,CAAEC,MAAM,CAAEC,eAAe,CAAEC,SAAS,KAAQ,OAAO,CACpE,MAAOC,KAAI,KAAM,gBAAgB,CACjC,MAAOC,KAAI,KAAM,gBAAgB,CACjC,MAAO,iBAAiB,CAAC,wFACzB,GAAMC,SAAQ,CAAG,QAAXA,SAAQ,CAAIC,KAAK,CAAK,CAC1B,cAAgCP,QAAQ,CAAC,CAAC,CAAC,wCAApCQ,QAAQ,eAAEC,WAAW,eAC5B,eAAoCT,QAAQ,CAAC,CAAC,CAAC,yCAAxCU,UAAU,eAAEC,aAAa,eAChC,eAAoCX,QAAQ,CAAC,CAC3CY,MAAM,CAAEC,MAAM,CAACC,WAAW,CAC1BC,KAAK,CAAEF,MAAM,CAACG,UAChB,CAAC,CAAC,yCAHKC,UAAU,eAAEC,aAAa,eAIhC,GAAMC,YAAW,CAAGZ,KAAK,CAACa,QAAQ,CAAG,CAAC,CACtC,GAAMC,OAAM,CAAGC,QAAQ,CAACC,sBAAsB,CAAC,eAAe,CAAC,CAC/D,GAAMC,gBAAe,CAAG,EAAE,CAC1B,GAAMC,IAAG,CAAGxB,MAAM,CAAC,IAAI,CAAC,CAExBC,eAAe,CAAC,UAAM,CACpBS,aAAa,CAACc,GAAG,CAACC,OAAO,CAACC,WAAW,CAAC,CACxC,CAAC,CAAE,EAAE,CAAC,CAENxB,SAAS,CAAC,UAAM,CACd,QAASyB,iBAAgB,EAAG,CAC1BV,aAAa,CAAC,CACZN,MAAM,CAAEC,MAAM,CAACD,MAAM,CACrBG,KAAK,CAAEF,MAAM,CAACE,KAChB,CAAC,CAAC,CACJ,CACAJ,aAAa,CAACc,GAAG,CAACC,OAAO,CAACC,WAAW,CAAC,CACtCE,KAAK,CAACC,IAAI,CAACT,MAAM,CAAC,CAACU,OAAO,CAACC,aAAa,CAAC,CACzCnB,MAAM,CAACoB,gBAAgB,CAAC,QAAQ,CAAEL,gBAAgB,CAAC,CACnDM,UAAU,CAACC,cAAc,CAAE,GAAG,CAAC,CAC/B,MAAO,WAAM,CACXtB,MAAM,CAACuB,mBAAmB,CAAC,QAAQ,CAAER,gBAAgB,CAAC,CACxD,CAAC,CACH,CAAC,CAAC,CAEF,QAASI,cAAa,CAACK,KAAK,CAAEC,KAAK,CAAE,CACnCD,KAAK,CAACE,KAAK,CAACC,IAAI,CAAG9B,UAAU,CAAG4B,KAAK,CAAG,GAAG,CAAG,IAAI,CACpD,CACAT,KAAK,CAACC,IAAI,CAACT,MAAM,CAAC,CAACU,OAAO,CAACC,aAAa,CAAC,CACzC,QAASG,eAAc,CAACM,CAAC,CAA2B,IAAzBC,aAAY,2DAAGlC,QAAQ,CAChD,GAAI,CACF,GAAIiC,CAAC,CAACE,MAAM,CAACC,SAAS,CAACC,QAAQ,CAAC,eAAe,CAAC,CAAE,CAChDH,YAAY,CAAGI,YAAY,EAAE,CAC/B,CAAC,IAAM,IAAIL,CAAC,CAACE,MAAM,CAACC,SAAS,CAACC,QAAQ,CAAC,eAAe,CAAC,CAAE,CACvDH,YAAY,CAAGK,YAAY,EAAE,CAC/B,CACF,CAAE,MAAOC,KAAK,CAAE,CAAC,CACjB,GAAMC,WAAU,CAAG5B,MAAM,CAACqB,YAAY,CAAC,CAACH,KAAK,CAACC,IAAI,CAClD,IAAK,GAAIU,EAAC,CAAG,CAAC,CAAEA,CAAC,CAAG7B,MAAM,CAAC8B,MAAM,CAAED,CAAC,EAAE,CAAE,CACtC7B,MAAM,CAAC6B,CAAC,CAAC,CAACX,KAAK,CAACa,SAAS,CAAG,cAAc,CAAGH,UAAU,CAAG,GAAG,CAC/D,CAEA5B,MAAM,CAACb,QAAQ,CAAC,CAACoC,SAAS,CAACS,MAAM,CAAC,iBAAiB,CAAC,CACpDhC,MAAM,CAACqB,YAAY,CAAC,CAACE,SAAS,CAACS,MAAM,CAAC,iBAAiB,CAAC,CACxD5C,WAAW,CAACiC,YAAY,CAAC,CAC3B,CAEA,QAASI,aAAY,EAAG,CACtB,GAAIQ,YAAW,CAEf,GAAI9C,QAAQ,GAAKW,WAAW,CAAE,CAC5BmC,WAAW,CAAG9C,QAAQ,CAAGW,WAAW,CACtC,CAAC,IAAM,CACLmC,WAAW,CAAG9C,QAAQ,CAAG,CAAC,CAC5B,CACA,MAAO8C,YAAW,CACpB,CACA,QAASP,aAAY,EAAG,CACtB,GAAIO,YAAW,CACf,GAAI9C,QAAQ,GAAK,CAAC,CAAE,CAClB8C,WAAW,CAAG9C,QAAQ,CAAGW,WAAW,CACtC,CAAC,IAAM,CACLmC,WAAW,CAAG9C,QAAQ,CAAG,CAAC,CAC5B,CACA,MAAO8C,YAAW,CACpB,CAEA9B,eAAe,CAAC+B,IAAI,cAClB,aAAK,GAAG,CAAE9B,GAAI,CAAC,SAAS,CAAC,+BAA+B,wBACtD,YACE,SAAS,CAAC,cAAc,CACxB,GAAG,CAAE,iCAAiC,CAAGlB,KAAK,CAACiD,YAAY,CAAC,CAAC,CAAC,CAACC,GAAI,CACnE,GAAG,CAAC,EAAE,EACN,CACDlD,KAAK,CAACiD,YAAY,CAAC,CAAC,CAAC,CAACE,QAAQ,GAC3B,CACP,CACD,IAAK,GAAIR,EAAC,CAAG,CAAC,CAAEA,CAAC,CAAG3C,KAAK,CAACa,QAAQ,CAAE8B,CAAC,EAAE,CAAE,CACvC1B,eAAe,CAAC+B,IAAI,cAClB,aAAK,GAAG,CAAE9B,GAAI,CAAC,SAAS,CAAC,eAAe,wBACtC,YACE,SAAS,CAAC,cAAc,CACxB,GAAG,CAAE,iCAAiC,CAAGlB,KAAK,CAACiD,YAAY,CAACN,CAAC,CAAC,CAACO,GAAI,CACnE,GAAG,CAAC,EAAE,EACN,CACDlD,KAAK,CAACiD,YAAY,CAACN,CAAC,CAAC,CAACQ,QAAQ,GAC3B,CACP,CACH,CAEA,mBACE,aAAK,SAAS,CAAC,UAAU,wBACvB,KAAC,IAAI,EAAC,cAAc,CAAEvB,cAAe,EAAG,cACxC,YAAK,SAAS,CAAC,kBAAkB,UAAEX,eAAe,EAAO,cACzD,KAAC,IAAI,EAAC,cAAc,CAAEW,cAAe,EAAG,GACpC,CAEV,CAAC,CAED,cAAe7B,SAAQ"},"metadata":{},"sourceType":"module","externalDependencies":[]}